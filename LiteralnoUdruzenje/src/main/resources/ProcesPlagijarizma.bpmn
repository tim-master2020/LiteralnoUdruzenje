<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_0rxz36x" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.4.0">
  <bpmn:process id="Process_01ubq6i" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_1dxs03a</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1dxs03a" sourceRef="StartEvent_1" targetRef="FilePlagiarismComplaint" />
    <bpmn:userTask id="FilePlagiarismComplaint" name="FilePlagiarismComplaint">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="writerUsername" label="Writer Username" type="string" />
          <camunda:formField id="bookName" label="Book name" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1dxs03a</bpmn:incoming>
      <bpmn:outgoing>Flow_1y11iht</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1y11iht" sourceRef="FilePlagiarismComplaint" targetRef="NotifyMainCommitteeAboutPlagiarism" />
    <bpmn:intermediateThrowEvent id="NotifyMainCommitteeAboutPlagiarism" name="NotifyMainCommitteeAboutPlagiarism">
      <bpmn:incoming>Flow_1y11iht</bpmn:incoming>
      <bpmn:outgoing>Flow_0fsot9x</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0z34h3q" camunda:class="tim22.upp.LiteralnoUdruzenje.service.camundaServices.EmailServices.EmailNotification" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_0fsot9x" sourceRef="NotifyMainCommitteeAboutPlagiarism" targetRef="LoadEditors" />
    <bpmn:serviceTask id="LoadEditors" name="LoadEditors" camunda:class="tim22.upp.LiteralnoUdruzenje.service.camundaServices.Load.LoadEditors">
      <bpmn:incoming>Flow_0fsot9x</bpmn:incoming>
      <bpmn:outgoing>Flow_0grszzk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_0p7pvfq">
      <bpmn:incoming>Flow_0grszzk</bpmn:incoming>
      <bpmn:outgoing>Flow_1qanx8v</bpmn:outgoing>
      <bpmn:outgoing>Flow_0knj9l8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0grszzk" sourceRef="LoadEditors" targetRef="Gateway_0p7pvfq" />
    <bpmn:endEvent id="Event_0geu7j7">
      <bpmn:incoming>Flow_1qanx8v</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1qanx8v" sourceRef="Gateway_0p7pvfq" targetRef="Event_0geu7j7">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${editorSum == 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0knj9l8" sourceRef="Gateway_0p7pvfq" targetRef="SelectEditors">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${editorSum &gt; 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="SelectEditors" name="SelectEditors" camunda:assignee="${mainEditor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="editors" label="Choose Editors " type="multiEnum_editors" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0knj9l8</bpmn:incoming>
      <bpmn:outgoing>Flow_10qud2z</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="DownloadBooksForReview" name="DownloadBooksForReview" camunda:assignee="${selectedEditors}">
      <bpmn:incoming>Flow_03gfv3f</bpmn:incoming>
      <bpmn:outgoing>Flow_1jqsot3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="Event_0qirf7i" cancelActivity="false" attachedToRef="LeaveReview">
      <bpmn:outgoing>Flow_1tamjuf</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1r8nsve" />
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Activity_13iizf8" name="LoadEditors" camunda:class="tim22.upp.LiteralnoUdruzenje.service.camundaServices.Load.LoadEditors">
      <bpmn:incoming>Flow_1tamjuf</bpmn:incoming>
      <bpmn:outgoing>Flow_0wglw81</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0wglw81" sourceRef="Activity_13iizf8" targetRef="Gateway_0byy3s8" />
    <bpmn:exclusiveGateway id="Gateway_0byy3s8">
      <bpmn:incoming>Flow_0wglw81</bpmn:incoming>
      <bpmn:outgoing>Flow_1f7spwd</bpmn:outgoing>
      <bpmn:outgoing>Flow_14g8lt2</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="FindReplacment" name="FindReplacment" camunda:assignee="${mainEditor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="replacmentEditors" label="Choose Replacement Editor" type="multiEnum_replacementEditors" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1f7spwd</bpmn:incoming>
      <bpmn:outgoing>Flow_058by2c</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="LeaveReview" name="LeaveReview" camunda:assignee="${selectedEditors}">
      <bpmn:incoming>Flow_0rgwh27</bpmn:incoming>
      <bpmn:outgoing>Flow_0uesz43</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics />
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1jqsot3" sourceRef="DownloadBooksForReview" targetRef="Gateway_08kha8e" />
    <bpmn:sequenceFlow id="Flow_1tamjuf" sourceRef="Event_0qirf7i" targetRef="Activity_13iizf8" />
    <bpmn:sequenceFlow id="Flow_1f7spwd" sourceRef="Gateway_0byy3s8" targetRef="FindReplacment">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${editorSum &gt; 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_1976qa2">
      <bpmn:incoming>Flow_14g8lt2</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_14g8lt2" sourceRef="Gateway_0byy3s8" targetRef="Event_1976qa2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${editorSum == 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:intermediateThrowEvent id="NotifySelectedEditors" name="NotifySelectedEditors">
      <bpmn:incoming>Flow_13rps62</bpmn:incoming>
      <bpmn:outgoing>Flow_03gfv3f</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_12s1oaw" camunda:class="tim22.upp.LiteralnoUdruzenje.service.camundaServices.EmailServices.EmailNotification" />
    </bpmn:intermediateThrowEvent>
    <bpmn:sequenceFlow id="Flow_03gfv3f" sourceRef="NotifySelectedEditors" targetRef="DownloadBooksForReview" />
    <bpmn:exclusiveGateway id="Gateway_0r880s0">
      <bpmn:incoming>Flow_058by2c</bpmn:incoming>
      <bpmn:incoming>Flow_10qud2z</bpmn:incoming>
      <bpmn:outgoing>Flow_13rps62</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_058by2c" sourceRef="FindReplacment" targetRef="Gateway_0r880s0" />
    <bpmn:sequenceFlow id="Flow_10qud2z" sourceRef="SelectEditors" targetRef="Gateway_0r880s0" />
    <bpmn:sequenceFlow id="Flow_13rps62" sourceRef="Gateway_0r880s0" targetRef="NotifySelectedEditors" />
    <bpmn:serviceTask id="CheckReviewsResult" name="CheckReviewsResult" camunda:class="tim22.upp.LiteralnoUdruzenje.service.camundaServices.CheckReviews">
      <bpmn:incoming>Flow_0uesz43</bpmn:incoming>
      <bpmn:outgoing>Flow_0z08skl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0uesz43" sourceRef="LeaveReview" targetRef="CheckReviewsResult" />
    <bpmn:exclusiveGateway id="Gateway_02we10y">
      <bpmn:incoming>Flow_0z08skl</bpmn:incoming>
      <bpmn:outgoing>Flow_0rgm3xw</bpmn:outgoing>
      <bpmn:outgoing>Flow_0ievwck</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0z08skl" sourceRef="CheckReviewsResult" targetRef="Gateway_02we10y" />
    <bpmn:exclusiveGateway id="Gateway_08kha8e">
      <bpmn:incoming>Flow_1jqsot3</bpmn:incoming>
      <bpmn:incoming>Flow_0rgm3xw</bpmn:incoming>
      <bpmn:outgoing>Flow_13w89on</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_13w89on" sourceRef="Gateway_08kha8e" targetRef="ResetVotes" />
    <bpmn:sequenceFlow id="Flow_0rgm3xw" sourceRef="Gateway_02we10y" targetRef="Gateway_08kha8e">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${unanimousVote == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_0g09f35">
      <bpmn:incoming>Flow_0ievwck</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0ievwck" sourceRef="Gateway_02we10y" targetRef="Event_0g09f35" />
    <bpmn:sequenceFlow id="Flow_0rgwh27" sourceRef="ResetVotes" targetRef="LeaveReview" />
    <bpmn:serviceTask id="ResetVotes" name="ResetVotes" camunda:class="tim22.upp.LiteralnoUdruzenje.service.camundaServices.ResetVotes">
      <bpmn:incoming>Flow_13w89on</bpmn:incoming>
      <bpmn:outgoing>Flow_0rgwh27</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_01ubq6i">
      <bpmndi:BPMNEdge id="Flow_1dxs03a_di" bpmnElement="Flow_1dxs03a">
        <di:waypoint x="215" y="117" />
        <di:waypoint x="300" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1y11iht_di" bpmnElement="Flow_1y11iht">
        <di:waypoint x="400" y="117" />
        <di:waypoint x="482" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fsot9x_di" bpmnElement="Flow_0fsot9x">
        <di:waypoint x="518" y="117" />
        <di:waypoint x="650" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0grszzk_di" bpmnElement="Flow_0grszzk">
        <di:waypoint x="750" y="117" />
        <di:waypoint x="825" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qanx8v_di" bpmnElement="Flow_1qanx8v">
        <di:waypoint x="875" y="117" />
        <di:waypoint x="992" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0knj9l8_di" bpmnElement="Flow_0knj9l8">
        <di:waypoint x="850" y="142" />
        <di:waypoint x="850" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03gfv3f_di" bpmnElement="Flow_03gfv3f">
        <di:waypoint x="832" y="480" />
        <di:waypoint x="801" y="480" />
        <di:waypoint x="801" y="630" />
        <di:waypoint x="630" y="630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wglw81_di" bpmnElement="Flow_0wglw81">
        <di:waypoint x="1290" y="700" />
        <di:waypoint x="1405" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jqsot3_di" bpmnElement="Flow_1jqsot3">
        <di:waypoint x="630" y="660" />
        <di:waypoint x="725" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1tamjuf_di" bpmnElement="Flow_1tamjuf">
        <di:waypoint x="1098" y="700" />
        <di:waypoint x="1190" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1f7spwd_di" bpmnElement="Flow_1f7spwd">
        <di:waypoint x="1430" y="675" />
        <di:waypoint x="1430" y="420" />
        <di:waypoint x="1450" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14g8lt2_di" bpmnElement="Flow_14g8lt2">
        <di:waypoint x="1430" y="725" />
        <di:waypoint x="1430" y="760" />
        <di:waypoint x="1398" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_058by2c_di" bpmnElement="Flow_058by2c">
        <di:waypoint x="1450" y="390" />
        <di:waypoint x="875" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10qud2z_di" bpmnElement="Flow_10qud2z">
        <di:waypoint x="850" y="300" />
        <di:waypoint x="850" y="365" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13rps62_di" bpmnElement="Flow_13rps62">
        <di:waypoint x="850" y="415" />
        <di:waypoint x="850" y="462" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uesz43_di" bpmnElement="Flow_0uesz43">
        <di:waypoint x="1030" y="700" />
        <di:waypoint x="1030" y="815" />
        <di:waypoint x="1100" y="815" />
        <di:waypoint x="1100" y="940" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z08skl_di" bpmnElement="Flow_0z08skl">
        <di:waypoint x="1050" y="980" />
        <di:waypoint x="775" y="980" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13w89on_di" bpmnElement="Flow_13w89on">
        <di:waypoint x="775" y="660" />
        <di:waypoint x="830" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rgm3xw_di" bpmnElement="Flow_0rgm3xw">
        <di:waypoint x="750" y="955" />
        <di:waypoint x="750" y="685" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ievwck_di" bpmnElement="Flow_0ievwck">
        <di:waypoint x="750" y="1005" />
        <di:waypoint x="750" y="1130" />
        <di:waypoint x="852" y="1130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rgwh27_di" bpmnElement="Flow_0rgwh27">
        <di:waypoint x="930" y="660" />
        <di:waypoint x="980" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="179" y="99" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_05h6xs2_di" bpmnElement="FilePlagiarismComplaint">
        <dc:Bounds x="300" y="77" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13mqjv9_di" bpmnElement="NotifyMainCommitteeAboutPlagiarism">
        <dc:Bounds x="482" y="99" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="457" y="142" width="87" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03d406f_di" bpmnElement="LoadEditors">
        <dc:Bounds x="650" y="77" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0p7pvfq_di" bpmnElement="Gateway_0p7pvfq" isMarkerVisible="true">
        <dc:Bounds x="825" y="92" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0geu7j7_di" bpmnElement="Event_0geu7j7">
        <dc:Bounds x="992" y="99" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ez8jg8_di" bpmnElement="SelectEditors">
        <dc:Bounds x="800" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1976qa2_di" bpmnElement="Event_1976qa2">
        <dc:Bounds x="1362" y="742" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0eekn3a_di" bpmnElement="FindReplacment">
        <dc:Bounds x="1450" y="350" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1jw2v7b_di" bpmnElement="NotifySelectedEditors">
        <dc:Bounds x="832" y="462" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="806.5" y="507.5" width="87" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1f3en9f_di" bpmnElement="LeaveReview">
        <dc:Bounds x="980" y="620" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_13iizf8_di" bpmnElement="Activity_13iizf8">
        <dc:Bounds x="1190" y="660" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0byy3s8_di" bpmnElement="Gateway_0byy3s8" isMarkerVisible="true">
        <dc:Bounds x="1405" y="675" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0r880s0_di" bpmnElement="Gateway_0r880s0" isMarkerVisible="true">
        <dc:Bounds x="825" y="365" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_19kmwu5_di" bpmnElement="CheckReviewsResult">
        <dc:Bounds x="1050" y="940" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0g09f35_di" bpmnElement="Event_0g09f35">
        <dc:Bounds x="852" y="1112" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03757gr_di" bpmnElement="DownloadBooksForReview">
        <dc:Bounds x="530" y="620" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_08kha8e_di" bpmnElement="Gateway_08kha8e" isMarkerVisible="true">
        <dc:Bounds x="725" y="635" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_02we10y_di" bpmnElement="Gateway_02we10y" isMarkerVisible="true">
        <dc:Bounds x="725" y="955" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_044o14t_di" bpmnElement="ResetVotes">
        <dc:Bounds x="830" y="620" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1inp8h7_di" bpmnElement="Event_0qirf7i">
        <dc:Bounds x="1062" y="682" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
